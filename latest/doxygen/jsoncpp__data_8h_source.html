<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Google APIs Client Library for C++: googleapis/client/data/jsoncpp_data.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Google APIs Client Library for C++
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('jsoncpp__data_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">jsoncpp_data.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="jsoncpp__data_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * \copyright Copyright 2013 Google Inc. All Rights Reserved.</span>
<a name="l00003"></a>00003 <span class="comment"> * \license @{</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00006"></a>00006 <span class="comment"> * you may not use this file except in compliance with the License.</span>
<a name="l00007"></a>00007 <span class="comment"> * You may obtain a copy of the License at</span>
<a name="l00008"></a>00008 <span class="comment"> *</span>
<a name="l00009"></a>00009 <span class="comment"> *     http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00010"></a>00010 <span class="comment"> *</span>
<a name="l00011"></a>00011 <span class="comment"> * Unless required by applicable law or agreed to in writing, software</span>
<a name="l00012"></a>00012 <span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00013"></a>00013 <span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00014"></a>00014 <span class="comment"> * See the License for the specific language governing permissions and</span>
<a name="l00015"></a>00015 <span class="comment"> * limitations under the License.</span>
<a name="l00016"></a>00016 <span class="comment"> *</span>
<a name="l00017"></a>00017 <span class="comment"> * @}</span>
<a name="l00018"></a>00018 <span class="comment"> */</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/*</span>
<a name="l00021"></a>00021 <span class="comment"> * @defgroup DataLayerJsonCpp Data Layer - JSON Support (using JsonCpp)</span>
<a name="l00022"></a>00022 <span class="comment"> *</span>
<a name="l00023"></a>00023 <span class="comment"> * The current implementation of JSON support uses the third-party JsonCpp</span>
<a name="l00024"></a>00024 <span class="comment"> * lirary (http://jsoncpp.sourceforge.net/) which has some issues that leak</span>
<a name="l00025"></a>00025 <span class="comment"> * into the interface. Therefore, I&#39;m grouping these into a &#39;JsonCpp&#39; module.</span>
<a name="l00026"></a>00026 <span class="comment"> *</span>
<a name="l00027"></a>00027 <span class="comment"> * The design of the JsonCpp sub-module makes pragmatic tradeoffs in order</span>
<a name="l00028"></a>00028 <span class="comment"> * to use this existing implementation. The main thing to be aware of is that</span>
<a name="l00029"></a>00029 <span class="comment"> * the signatures of the class methods in this  module often use call by</span>
<a name="l00030"></a>00030 <span class="comment"> * value-result semantics rather than call by reference as you would expect.</span>
<a name="l00031"></a>00031 <span class="comment"> * However, the internal implementation is often actually call by reference.</span>
<a name="l00032"></a>00032 <span class="comment"> * So the semantics (and performance) are similar to call-by reference but</span>
<a name="l00033"></a>00033 <span class="comment"> * the code feels like cal-by value. This is unfortunate and I hope to address</span>
<a name="l00034"></a>00034 <span class="comment"> * it in future releases.</span>
<a name="l00035"></a>00035 <span class="comment"> */</span>
<a name="l00036"></a>00036 
<a name="l00037"></a>00037 <span class="preprocessor">#ifndef APISERVING_CLIENTS_CPP_DATA_JSONCPP_DATA_H_</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#define APISERVING_CLIENTS_CPP_DATA_JSONCPP_DATA_H_</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="preprocessor">#include &lt;string&gt;</span>
<a name="l00040"></a>00040 <span class="keyword">using</span> std::string;
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00042"></a>00042 <span class="keyword">using</span> std::make_pair;
<a name="l00043"></a>00043 <span class="keyword">using</span> std::pair;
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00045"></a>00045 <span class="keyword">using</span> std::vector;
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="serializable__json_8h.html">googleapis/client/data/serializable_json.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="jsoncpp__data__helpers_8h.html">googleapis/client/data/jsoncpp_data_helpers.h</a>&quot;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;glog/logging.h&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;googleapis/base/macros.h&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;json/json.h&gt;</span>
<a name="l00052"></a>00052 <span class="keyword">namespace </span>googleapis {
<a name="l00053"></a>00053 
<a name="l00054"></a>00054 <span class="keyword">namespace </span>client {
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="keyword">class </span>DataReader;
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="comment">// Forward declaration</span>
<a name="l00059"></a>00059 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>JsonCppConstIndexIterator;
<a name="l00060"></a>00060 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class </span>JsonCppConstAssociativeIterator;
<a name="l00061"></a>00061 
<a name="l00062"></a>00062 <span class="comment">/*</span>
<a name="l00063"></a>00063 <span class="comment"> * Base class for data objects using JsonCpp for underlying state.</span>
<a name="l00064"></a>00064 <span class="comment"> * @ingroup DataLayerJsonCpp</span>
<a name="l00065"></a>00065 <span class="comment"> *</span>
<a name="l00066"></a>00066 <span class="comment"> * Class instances are either const or mutable depending on how they are</span>
<a name="l00067"></a>00067 <span class="comment"> * constructed. If constructed with a const reference, the instance will not</span>
<a name="l00068"></a>00068 <span class="comment"> * allow direct mutation. If constructed with a pointer, the instance will</span>
<a name="l00069"></a>00069 <span class="comment"> * allow mutation. It doesnt necessarily have to be like this, just seems like</span>
<a name="l00070"></a>00070 <span class="comment"> * a reasonable safety mechanism given the wrapper ipmlementation strategy.</span>
<a name="l00071"></a>00071 <span class="comment"> *</span>
<a name="l00072"></a>00072 <span class="comment"> * The objects are intended to be used in a call-by-value / value-result syntax</span>
<a name="l00073"></a>00073 <span class="comment"> * however the &quot;values&quot; are actually references so semantics are actually</span>
<a name="l00074"></a>00074 <span class="comment"> * call-by-reference. Admitedly this is unfortunate (i.e. weird) but it is to</span>
<a name="l00075"></a>00075 <span class="comment"> * allow object wrappers to be used in a complete and uniform way when</span>
<a name="l00076"></a>00076 <span class="comment"> * accessing and modifying complex composite objects through their various</span>
<a name="l00077"></a>00077 <span class="comment"> * parts. Since the wrapper object state is just a pointer (and a bool) the</span>
<a name="l00078"></a>00078 <span class="comment"> * copying syntax should not add much runtime overhead.</span>
<a name="l00079"></a>00079 <span class="comment"> *</span>
<a name="l00080"></a>00080 <span class="comment"> * Keeping all the state in the Json::Value object will likely add runtime</span>
<a name="l00081"></a>00081 <span class="comment"> * overhead however. Rather than attributes (of derived classes) being inlined</span>
<a name="l00082"></a>00082 <span class="comment"> * member variables, they will be [] operator lookups on string names. The</span>
<a name="l00083"></a>00083 <span class="comment"> * tradeoff here is for completeness, correctness, and internal implementation</span>
<a name="l00084"></a>00084 <span class="comment"> * convienence in the short term to get things up and running more quickly to</span>
<a name="l00085"></a>00085 <span class="comment"> * play with and understand strategic issues beyond performance.</span>
<a name="l00086"></a>00086 <span class="comment"> *</span>
<a name="l00087"></a>00087 <span class="comment"> * Keeping all the state together allows unknown attributes to be first-class</span>
<a name="l00088"></a>00088 <span class="comment"> * citizens along with known ones. Serialization, iteration, and so forth are</span>
<a name="l00089"></a>00089 <span class="comment"> * already handled (and in an open soure library) by jsoncpp. Presumably since</span>
<a name="l00090"></a>00090 <span class="comment"> * this is cheap to implement, it will be cheap to throw away and replace,</span>
<a name="l00091"></a>00091 <span class="comment"> * investing the effort for runtime efficiency (or finding another package)</span>
<a name="l00092"></a>00092 <span class="comment"> * at some future point down the road when it is a more pressing impedement.</span>
<a name="l00093"></a>00093 <span class="comment"> *</span>
<a name="l00094"></a>00094 <span class="comment"> * This class is not thread-safe.</span>
<a name="l00095"></a>00095 <span class="comment"> */</span>
<a name="l00096"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html">00096</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a> : <span class="keyword">public</span> <a class="code" href="classgoogleapis_1_1client_1_1SerializableJson.html" title="An abstract interface for data objects used to denote JSON compatability.">SerializableJson</a> {
<a name="l00097"></a>00097  <span class="keyword">public</span>:
<a name="l00098"></a>00098   <span class="comment">/*</span>
<a name="l00099"></a>00099 <span class="comment">   * Standard constructor for an immutable instances.</span>
<a name="l00100"></a>00100 <span class="comment">   *</span>
<a name="l00101"></a>00101 <span class="comment">   * @param[in] value Provides the underlying JsonCpp storage.</span>
<a name="l00102"></a>00102 <span class="comment">   *            The lifetime of &#39;value&#39; must be retained over the lifetime of</span>
<a name="l00103"></a>00103 <span class="comment">   *            this instance, however the state can change internally.</span>
<a name="l00104"></a>00104 <span class="comment">   */</span>
<a name="l00105"></a>00105   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a5882a6534c179a6295b9614298f6cc83" title="Standard constructor for an immutable instances.">JsonCppData</a>(<span class="keyword">const</span> Json::Value&amp; value);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   <span class="comment">/*</span>
<a name="l00108"></a>00108 <span class="comment">   * Standard constructor for mutable instances.</span>
<a name="l00109"></a>00109 <span class="comment">   *</span>
<a name="l00110"></a>00110 <span class="comment">   * @param[in] value Provides the underlying JsonCpp storage.</span>
<a name="l00111"></a>00111 <span class="comment">   *                  Ownership of &#39;value&#39; is retained by the caller and</span>
<a name="l00112"></a>00112 <span class="comment">   *                  must live beyond the lifecycle of this instance.</span>
<a name="l00113"></a>00113 <span class="comment">   */</span>
<a name="l00114"></a>00114   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a5882a6534c179a6295b9614298f6cc83" title="Standard constructor for an immutable instances.">JsonCppData</a>(Json::Value* value);
<a name="l00115"></a>00115 
<a name="l00116"></a>00116   <span class="comment">/*</span>
<a name="l00117"></a>00117 <span class="comment">   * Standard destructor.</span>
<a name="l00118"></a>00118 <span class="comment">   */</span>
<a name="l00119"></a>00119   <span class="keyword">virtual</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a6cc1263034ccfd9a3d09f99c5230a540" title="Standard destructor.">~JsonCppData</a>();
<a name="l00120"></a>00120 
<a name="l00121"></a>00121   <span class="comment">/*</span>
<a name="l00122"></a>00122 <span class="comment">   * Restores the state of this object from the JSON in the given std::istream.</span>
<a name="l00123"></a>00123 <span class="comment">   *</span>
<a name="l00124"></a>00124 <span class="comment">   * @param[in] stream The stream to read from.</span>
<a name="l00125"></a>00125 <span class="comment">   * @return ok or explaination of failure.</span>
<a name="l00126"></a>00126 <span class="comment">   *</span>
<a name="l00127"></a>00127 <span class="comment">   * @see LoadFromJsonReader</span>
<a name="l00128"></a>00128 <span class="comment">   */</span>
<a name="l00129"></a>00129   <span class="keyword">virtual</span> <a class="code" href="classgoogleapis_1_1util_1_1Status.html" title="namespace error">util::Status</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a5936cf3afe88aee83d39bdd01f10efa5" title="Restores the state of this object from the JSON in the given std::istream.">LoadFromJsonStream</a>(std::istream* stream);
<a name="l00130"></a>00130 
<a name="l00131"></a>00131   <span class="comment">/*</span>
<a name="l00132"></a>00132 <span class="comment">   * Stores the state of this object as JSON in the given std::ostream.</span>
<a name="l00133"></a>00133 <span class="comment">   *</span>
<a name="l00134"></a>00134 <span class="comment">   * @param[in] stream The stream to write to.</span>
<a name="l00135"></a>00135 <span class="comment">   * @return ok or explaination of failure.</span>
<a name="l00136"></a>00136 <span class="comment">   *</span>
<a name="l00137"></a>00137 <span class="comment">   * @see MakeJsonReader</span>
<a name="l00138"></a>00138 <span class="comment">   */</span>
<a name="l00139"></a>00139   <span class="keyword">virtual</span> <a class="code" href="classgoogleapis_1_1util_1_1Status.html" title="namespace error">util::Status</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#ac056ec335a5c6b0ce694ac198d3ede3a" title="Stores the state of this object as JSON in the given std::ostream.">StoreToJsonStream</a>(std::ostream* stream) <span class="keyword">const</span>;
<a name="l00140"></a>00140 
<a name="l00141"></a>00141   <span class="comment">/*</span>
<a name="l00142"></a>00142 <span class="comment">   * Clears this instance state to an empty object.</span>
<a name="l00143"></a>00143 <span class="comment">   */</span>
<a name="l00144"></a>00144   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a2f6228c0f08d546e635de6758a4842ba" title="Clears this instance state to an empty object.">Clear</a>();
<a name="l00145"></a>00145 
<a name="l00146"></a>00146   <span class="comment">/*</span>
<a name="l00147"></a>00147 <span class="comment">   * Restores the state of this object from the JSON in the given reader.</span>
<a name="l00148"></a>00148 <span class="comment">   *</span>
<a name="l00149"></a>00149 <span class="comment">   * @param[in] reader The byte-sequence to read from.</span>
<a name="l00150"></a>00150 <span class="comment">   * @return ok or explaination of failure.</span>
<a name="l00151"></a>00151 <span class="comment">   */</span>
<a name="l00152"></a>00152   <span class="keyword">virtual</span> <a class="code" href="classgoogleapis_1_1util_1_1Status.html" title="namespace error">util::Status</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a31d03165ba55a190124853d995dc0971" title="Restores the state of this object from the JSON in the given reader.">LoadFromJsonReader</a>(<a class="code" href="classgoogleapis_1_1client_1_1DataReader.html" title="Interface for reading from an asynchronous binary data stream.">DataReader</a>* reader);
<a name="l00153"></a>00153 
<a name="l00154"></a>00154   <span class="comment">/*</span>
<a name="l00155"></a>00155 <span class="comment">   * Serializes the object into a JSON byte stream.</span>
<a name="l00156"></a>00156 <span class="comment">   *</span>
<a name="l00157"></a>00157 <span class="comment">   * @return A standard reader interface around the JSON encoded object.</span>
<a name="l00158"></a>00158 <span class="comment">   */</span>
<a name="l00159"></a>00159   <span class="keyword">virtual</span> <a class="code" href="classgoogleapis_1_1client_1_1DataReader.html" title="Interface for reading from an asynchronous binary data stream.">DataReader</a>* <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a62ab897a2f28d17416c73dbb7000213e" title="Serializes the object into a JSON byte stream.">MakeJsonReader</a>() <span class="keyword">const</span>;
<a name="l00160"></a>00160 
<a name="l00161"></a>00161   <span class="comment">/*</span>
<a name="l00162"></a>00162 <span class="comment">   * Copies state from another instance into this one.</span>
<a name="l00163"></a>00163 <span class="comment">   *</span>
<a name="l00164"></a>00164 <span class="comment">   * This will preserve the existing IsMutable-ness of this instance.</span>
<a name="l00165"></a>00165 <span class="comment">   *</span>
<a name="l00166"></a>00166 <span class="comment">   * @param[in] from The state to copy from.</span>
<a name="l00167"></a>00167 <span class="comment">   */</span>
<a name="l00168"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a67b6fa5b322e9b520aaf88ea9f954fa7">00168</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a67b6fa5b322e9b520aaf88ea9f954fa7" title="Copies state from another instance into this one.">CopyFrom</a>(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a>&amp; from) {
<a name="l00169"></a>00169     *<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>() = from.<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>();
<a name="l00170"></a>00170   }
<a name="l00171"></a>00171 
<a name="l00172"></a>00172   <span class="comment">/*</span>
<a name="l00173"></a>00173 <span class="comment">   * Determines if this instance is mutable or not.</span>
<a name="l00174"></a>00174 <span class="comment">   *</span>
<a name="l00175"></a>00175 <span class="comment">   * Mutability is determined by which constructor was used.</span>
<a name="l00176"></a>00176 <span class="comment">   *</span>
<a name="l00177"></a>00177 <span class="comment">   * @return true if the instance is mutable.</span>
<a name="l00178"></a>00178 <span class="comment">   */</span>
<a name="l00179"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3a0c4e825a62dacba94f198a6a0ed9c5">00179</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3a0c4e825a62dacba94f198a6a0ed9c5" title="Determines if this instance is mutable or not.">IsMutable</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> is_mutable_; }
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="comment">/*</span>
<a name="l00182"></a>00182 <span class="comment">   * Determines if the represented JSON value is NULL.</span>
<a name="l00183"></a>00183 <span class="comment">   *</span>
<a name="l00184"></a>00184 <span class="comment">   * @return true if the underlying Json::Value denotes a null value.</span>
<a name="l00185"></a>00185 <span class="comment">   */</span>
<a name="l00186"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a055d87b78f69c9d039b7e12ead7aa6b6">00186</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a055d87b78f69c9d039b7e12ead7aa6b6" title="Determines if the represented JSON value is NULL.">IsNull</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> value_-&gt;isNull(); }
<a name="l00187"></a>00187 
<a name="l00188"></a>00188   <span class="comment">/*</span>
<a name="l00189"></a>00189 <span class="comment">   * Ensures the instance is mutable or terminate if not.</span>
<a name="l00190"></a>00190 <span class="comment">   *</span>
<a name="l00191"></a>00191 <span class="comment">   * If the instance is not mutable this call will CHECK-fail and</span>
<a name="l00192"></a>00192 <span class="comment">   * terminate the program. It is only intended to make assertions</span>
<a name="l00193"></a>00193 <span class="comment">   * that indicate programming errors.</span>
<a name="l00194"></a>00194 <span class="comment">   */</span>
<a name="l00195"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a63a329a6c1c9c3e33d31fdbc73b4e8df">00195</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a63a329a6c1c9c3e33d31fdbc73b4e8df" title="Ensures the instance is mutable or terminate if not.">CheckIsMutable</a>()<span class="keyword"> const </span>{ CHECK(is_mutable_); }
<a name="l00196"></a>00196 
<a name="l00197"></a>00197   <span class="comment">/*</span>
<a name="l00198"></a>00198 <span class="comment">   * Returns reference to the Json::Value instance used for storage.</span>
<a name="l00199"></a>00199 <span class="comment">   *</span>
<a name="l00200"></a>00200 <span class="comment">   * @return The instance bound in the constructor.</span>
<a name="l00201"></a>00201 <span class="comment">   */</span>
<a name="l00202"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675">00202</a>   <span class="keyword">const</span> Json::Value&amp; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> *value_; }
<a name="l00203"></a>00203 
<a name="l00204"></a>00204   <span class="comment">/*</span>
<a name="l00205"></a>00205 <span class="comment">   * Returns reference to the Json::Value instance used for storage.</span>
<a name="l00206"></a>00206 <span class="comment">   *</span>
<a name="l00207"></a>00207 <span class="comment">   * This will create a new subcomponent if one did not already exist.</span>
<a name="l00208"></a>00208 <span class="comment">   *</span>
<a name="l00209"></a>00209 <span class="comment">   * @param[in] key The JSON name of the desired subcomponent.</span>
<a name="l00210"></a>00210 <span class="comment">   *</span>
<a name="l00211"></a>00211 <span class="comment">   * @return The instance might be Json::Value::isNull but will be valid.</span>
<a name="l00212"></a>00212 <span class="comment">   */</span>
<a name="l00213"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#addcefb05230c39502cde24820a112f90">00213</a>   <span class="keyword">const</span> Json::Value&amp; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#addcefb05230c39502cde24820a112f90" title="Returns reference to the Json::Value instance used for storage.">Storage</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (*value_)[key]; }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215   <span class="comment">/*</span>
<a name="l00216"></a>00216 <span class="comment">   * Returns a pointer to the storage bound in the constructor.</span>
<a name="l00217"></a>00217 <span class="comment">   *</span>
<a name="l00218"></a>00218 <span class="comment">   * This method will CHECK fail if the instance is immutable.</span>
<a name="l00219"></a>00219 <span class="comment">   */</span>
<a name="l00220"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f">00220</a>   Json::Value* <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>() {
<a name="l00221"></a>00221     <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a63a329a6c1c9c3e33d31fdbc73b4e8df" title="Ensures the instance is mutable or terminate if not.">CheckIsMutable</a>();
<a name="l00222"></a>00222     <span class="keywordflow">return</span> value_;
<a name="l00223"></a>00223   }
<a name="l00224"></a>00224 
<a name="l00225"></a>00225   <span class="comment">/*</span>
<a name="l00226"></a>00226 <span class="comment">   * Returns a pointer to the storage for the named subcomponent.</span>
<a name="l00227"></a>00227 <span class="comment">   *</span>
<a name="l00228"></a>00228 <span class="comment">   * This method will CHECK fail if the instance is immutable.</span>
<a name="l00229"></a>00229 <span class="comment">   */</span>
<a name="l00230"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a6e6a9a943b9070afbbf168c6d0e8c497">00230</a>   Json::Value* <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a6e6a9a943b9070afbbf168c6d0e8c497" title="Returns a pointer to the storage for the named subcomponent.">MutableStorage</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key) {
<a name="l00231"></a>00231     <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a63a329a6c1c9c3e33d31fdbc73b4e8df" title="Ensures the instance is mutable or terminate if not.">CheckIsMutable</a>();
<a name="l00232"></a>00232     <span class="keywordflow">return</span> &amp;(*value_)[key];
<a name="l00233"></a>00233   }
<a name="l00234"></a>00234 
<a name="l00235"></a>00235   <span class="comment">/*</span>
<a name="l00236"></a>00236 <span class="comment">   * Determines if the object instances are equivalent.</span>
<a name="l00237"></a>00237 <span class="comment">   */</span>
<a name="l00238"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aafa42cb12e3b40449621766fea1ad2e5">00238</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aafa42cb12e3b40449621766fea1ad2e5" title="Determines if the object instances are equivalent.">operator==</a>(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a>&amp; other)<span class="keyword"> const </span>{
<a name="l00239"></a>00239     <span class="keywordflow">return</span> *value_ == *other.value_;
<a name="l00240"></a>00240   }
<a name="l00241"></a>00241 
<a name="l00242"></a>00242  <span class="keyword">private</span>:
<a name="l00243"></a>00243   <span class="keywordtype">bool</span> is_mutable_;
<a name="l00244"></a>00244   Json::Value* value_;  <span class="comment">// reference is not owned</span>
<a name="l00245"></a>00245 
<a name="l00246"></a>00246   <span class="comment">// Disallow assigning but preserve copying because we&#39;ll need to return</span>
<a name="l00247"></a>00247   <span class="comment">// wrapped object instances from the APIs due to the call-by-value</span>
<a name="l00248"></a>00248   <span class="comment">// constraints inherited from the underlying JsonCpp API.</span>
<a name="l00249"></a>00249   <span class="keywordtype">void</span> operator=(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a>&amp; obj);
<a name="l00250"></a>00250 };
<a name="l00251"></a>00251 
<a name="l00252"></a>00252 <span class="comment">/*</span>
<a name="l00253"></a>00253 <span class="comment"> * Base class template for a JsonCppData object that is an array.</span>
<a name="l00254"></a>00254 <span class="comment"> * @ingroup DataLyaerJsonCpp</span>
<a name="l00255"></a>00255 <span class="comment"> *</span>
<a name="l00256"></a>00256 <span class="comment"> * Arrays currently follow the JsonCpp implementation where they grow on</span>
<a name="l00257"></a>00257 <span class="comment"> * demand. Accessing an element wil create it if it did not already exist.</span>
<a name="l00258"></a>00258 <span class="comment"> *</span>
<a name="l00259"></a>00259 <span class="comment"> * This class is not thread-safe.</span>
<a name="l00260"></a>00260 <span class="comment"> *</span>
<a name="l00261"></a>00261 <span class="comment"> * @todo(ewiseblatt): 20120825</span>
<a name="l00262"></a>00262 <span class="comment"> * Probably change this so the arrays are fixed size unless you resize the</span>
<a name="l00263"></a>00263 <span class="comment"> * array or append/remove from it. That means get/set should rangecheck.</span>
<a name="l00264"></a>00264 <span class="comment"> */</span>
<a name="l00265"></a>00265 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00266"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html">00266</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html" title="Base class template for a JsonCppData object that is an array.">JsonCppArray</a> : <span class="keyword">public</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a> {
<a name="l00267"></a>00267  <span class="keyword">public</span>:
<a name="l00268"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a92b71ea0358d4aaa7c50edaf0a78d98d">00268</a>   <span class="keyword">typedef</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html" title="Iterator for index-based JsonCppDataArray.">JsonCppConstIndexIterator&lt;T&gt;</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a92b71ea0358d4aaa7c50edaf0a78d98d">const_iterator</a>;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270   <span class="comment">/*</span>
<a name="l00271"></a>00271 <span class="comment">   * Standard constructor for an immutable array.</span>
<a name="l00272"></a>00272 <span class="comment">   *</span>
<a name="l00273"></a>00273 <span class="comment">   * @param[in] value Provides the underlying storage for the array.</span>
<a name="l00274"></a>00274 <span class="comment">   */</span>
<a name="l00275"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a576f4cbac8b82335e220a7bc3a4b3f38">00275</a>   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a576f4cbac8b82335e220a7bc3a4b3f38" title="Standard constructor for an immutable array.">JsonCppArray</a>(<span class="keyword">const</span> Json::Value&amp; value)
<a name="l00276"></a>00276     : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a>(value) {
<a name="l00277"></a>00277   }
<a name="l00278"></a>00278 
<a name="l00279"></a>00279   <span class="comment">/*</span>
<a name="l00280"></a>00280 <span class="comment">   * Standard constructor for a mutable array.</span>
<a name="l00281"></a>00281 <span class="comment">   *</span>
<a name="l00282"></a>00282 <span class="comment">   * @param[in] value Provides the underlying storage for the array.</span>
<a name="l00283"></a>00283 <span class="comment">   */</span>
<a name="l00284"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#ac1ea7d455d47e66982f1d4f9fce13648">00284</a>   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a576f4cbac8b82335e220a7bc3a4b3f38" title="Standard constructor for an immutable array.">JsonCppArray</a>(Json::Value* value)
<a name="l00285"></a>00285     : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a>(value) {
<a name="l00286"></a>00286   }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288   <span class="comment">/*</span>
<a name="l00289"></a>00289 <span class="comment">   * Determines if array is empty or not.</span>
<a name="l00290"></a>00290 <span class="comment">   */</span>
<a name="l00291"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#ac6e61de369e994009e36f344f99c15ad">00291</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#ac6e61de369e994009e36f344f99c15ad" title="Determines if array is empty or not.">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().size() == 0; }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293   <span class="comment">/*</span>
<a name="l00294"></a>00294 <span class="comment">   * Determines the number of elements currently in the array.</span>
<a name="l00295"></a>00295 <span class="comment">   */</span>
<a name="l00296"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00296</a>   <span class="keywordtype">int</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#ab8e4e3e2a7bf18888b71bdf9dda0770b" title="Determines the number of elements currently in the array.">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().size(); }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298   <span class="comment">/*</span>
<a name="l00299"></a>00299 <span class="comment">   * Gets the [immutable] underlying JsonCpp storage for a given array element.</span>
<a name="l00300"></a>00300 <span class="comment">   *</span>
<a name="l00301"></a>00301 <span class="comment">   * @see as_object</span>
<a name="l00302"></a>00302 <span class="comment">   * @see get</span>
<a name="l00303"></a>00303 <span class="comment">   */</span>
<a name="l00304"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3504fd4e7986c98094b4869bc9b3ceaf">00304</a>   <span class="keyword">const</span> Json::Value&amp; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3504fd4e7986c98094b4869bc9b3ceaf" title="Gets the [immutable] underlying JsonCpp storage for a given array element.">as_value</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>()[i]; }
<a name="l00305"></a>00305 
<a name="l00306"></a>00306   <span class="comment">/*</span>
<a name="l00307"></a>00307 <span class="comment">   * Gets the [mutable] underlying JsonCpp storage for a given array element.</span>
<a name="l00308"></a>00308 <span class="comment">   *</span>
<a name="l00309"></a>00309 <span class="comment">   * This method will CHECK fail if the array is not mutable.</span>
<a name="l00310"></a>00310 <span class="comment">   *</span>
<a name="l00311"></a>00311 <span class="comment">   * @see as_mutable_object</span>
<a name="l00312"></a>00312 <span class="comment">   * @see mutable_get</span>
<a name="l00313"></a>00313 <span class="comment">   */</span>
<a name="l00314"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a2557ef3dfb0a3fb7e5a2574635943a61">00314</a>   Json::Value* <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a2557ef3dfb0a3fb7e5a2574635943a61" title="Gets the [mutable] underlying JsonCpp storage for a given array element.">as_mutable_value</a>(<span class="keywordtype">int</span> i)    { <span class="keywordflow">return</span> &amp;(*<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>())[i]; }
<a name="l00315"></a>00315 
<a name="l00316"></a>00316   <span class="comment">/*</span>
<a name="l00317"></a>00317 <span class="comment">   * Gets the [immutable] JsonCppData instance wrapping a given array element.</span>
<a name="l00318"></a>00318 <span class="comment">   *</span>
<a name="l00319"></a>00319 <span class="comment">   * @see as_value</span>
<a name="l00320"></a>00320 <span class="comment">   * @see get</span>
<a name="l00321"></a>00321 <span class="comment">   */</span>
<a name="l00322"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a8e8c1b278f53d03668beebd26cb4bf6a">00322</a>   <span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a8e8c1b278f53d03668beebd26cb4bf6a" title="Gets the [immutable] JsonCppData instance wrapping a given array element.">as_object</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{
<a name="l00323"></a>00323     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a5882a6534c179a6295b9614298f6cc83" title="Standard constructor for an immutable instances.">JsonCppData</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3504fd4e7986c98094b4869bc9b3ceaf" title="Gets the [immutable] underlying JsonCpp storage for a given array element.">as_value</a>(i));
<a name="l00324"></a>00324   }
<a name="l00325"></a>00325 
<a name="l00326"></a>00326   <span class="comment">/*</span>
<a name="l00327"></a>00327 <span class="comment">   * Gets the [mutable] JsonCppData instance wrapping a given array element.</span>
<a name="l00328"></a>00328 <span class="comment">   *</span>
<a name="l00329"></a>00329 <span class="comment">   * @see as_mutable_value</span>
<a name="l00330"></a>00330 <span class="comment">   * @see mutable_get</span>
<a name="l00331"></a>00331 <span class="comment">   */</span>
<a name="l00332"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a0844bffe09aadc5cb8cb30416eafbb4c">00332</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a0844bffe09aadc5cb8cb30416eafbb4c" title="Gets the [mutable] JsonCppData instance wrapping a given array element.">as_mutable_object</a>(<span class="keywordtype">int</span> i) {
<a name="l00333"></a>00333     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a5882a6534c179a6295b9614298f6cc83" title="Standard constructor for an immutable instances.">JsonCppData</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a2557ef3dfb0a3fb7e5a2574635943a61" title="Gets the [mutable] underlying JsonCpp storage for a given array element.">as_mutable_value</a>(i));
<a name="l00334"></a>00334   }
<a name="l00335"></a>00335 
<a name="l00336"></a>00336   <span class="comment">/*</span>
<a name="l00337"></a>00337 <span class="comment">   * Returns the starting point for iterating over the elements.</span>
<a name="l00338"></a>00338 <span class="comment">   *</span>
<a name="l00339"></a>00339 <span class="comment">   * Unfortunately this data model only permits const iterators</span>
<a name="l00340"></a>00340 <span class="comment">   * because of the call-by-value-result nature of the api. We cant modify</span>
<a name="l00341"></a>00341 <span class="comment">   * the elements unless we create a storage iterator that iterates over the</span>
<a name="l00342"></a>00342 <span class="comment">   * storage (which you can already do by saying MutableStorage()-&gt;begin/end()</span>
<a name="l00343"></a>00343 <span class="comment">   */</span>
<a name="l00344"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#aa4b02d4f1a8500fb07a551069060709f">00344</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html" title="Iterator for index-based JsonCppDataArray.">const_iterator</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#aa4b02d4f1a8500fb07a551069060709f" title="Returns the starting point for iterating over the elements.">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a92b71ea0358d4aaa7c50edaf0a78d98d">const_iterator</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().<a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#aa4b02d4f1a8500fb07a551069060709f" title="Returns the starting point for iterating over the elements.">begin</a>()); }
<a name="l00345"></a>00345 
<a name="l00346"></a>00346   <span class="comment">/*</span>
<a name="l00347"></a>00347 <span class="comment">   * Returns the ending poitn when iterating over the elements</span>
<a name="l00348"></a>00348 <span class="comment">   */</span>
<a name="l00349"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a350132543d80a1c1e5be844e6d2878ea">00349</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html" title="Iterator for index-based JsonCppDataArray.">const_iterator</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a350132543d80a1c1e5be844e6d2878ea" title="Returns the ending poitn when iterating over the elements.">end</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a92b71ea0358d4aaa7c50edaf0a78d98d">const_iterator</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().<a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a350132543d80a1c1e5be844e6d2878ea" title="Returns the ending poitn when iterating over the elements.">end</a>()); }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351   <span class="comment">/*</span>
<a name="l00352"></a>00352 <span class="comment">   * Changes the value for the given element.</span>
<a name="l00353"></a>00353 <span class="comment">   *</span>
<a name="l00354"></a>00354 <span class="comment">   * This method will CHECK-fail if the array is not mutable.</span>
<a name="l00355"></a>00355 <span class="comment">   *</span>
<a name="l00356"></a>00356 <span class="comment">   * @param[in] i The index to change will be added if it was not present.</span>
<a name="l00357"></a>00357 <span class="comment">   * @param[in] value The value to copy.</span>
<a name="l00358"></a>00358 <span class="comment">   */</span>
<a name="l00359"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a65395deccfcdd92de6bc15d389c17572">00359</a>   <span class="keywordtype">void</span> <span class="keyword">set</span>(<span class="keywordtype">int</span> i, <span class="keyword">const</span> T&amp; value) {
<a name="l00360"></a>00360     SetJsonValueFromCppValueHelper&lt;T&gt;(value, <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a2557ef3dfb0a3fb7e5a2574635943a61" title="Gets the [mutable] underlying JsonCpp storage for a given array element.">as_mutable_value</a>(i));
<a name="l00361"></a>00361   }
<a name="l00362"></a>00362 
<a name="l00363"></a>00363   <span class="comment">/*</span>
<a name="l00364"></a>00364 <span class="comment">   * Returns the value for the given index.</span>
<a name="l00365"></a>00365 <span class="comment">   * @param[in] i The element index to get.</span>
<a name="l00366"></a>00366 <span class="comment">   */</span>
<a name="l00367"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#ae2272721349dc3dae89d4c3f865795ed">00367</a>   <span class="keyword">const</span> T <span class="keyword">get</span>(<span class="keywordtype">int</span> i) <span class="keyword">const</span> {
<a name="l00368"></a>00368     <span class="keywordflow">return</span> JsonValueToCppValueHelper&lt;T&gt;(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3504fd4e7986c98094b4869bc9b3ceaf" title="Gets the [immutable] underlying JsonCpp storage for a given array element.">as_value</a>(i));
<a name="l00369"></a>00369   }
<a name="l00370"></a>00370 
<a name="l00371"></a>00371   <span class="comment">/*</span>
<a name="l00372"></a>00372 <span class="comment">   * Returns a mutable value for the given index.</span>
<a name="l00373"></a>00373 <span class="comment">   *</span>
<a name="l00374"></a>00374 <span class="comment">   * This method will CHECK-fail if the array is not mutable.</span>
<a name="l00375"></a>00375 <span class="comment">   *</span>
<a name="l00376"></a>00376 <span class="comment">   * @return The value as opposed to a pointer. See the class description</span>
<a name="l00377"></a>00377 <span class="comment">   *         for more information about the calling conventions.</span>
<a name="l00378"></a>00378 <span class="comment">   *         Although the value is not a pointer, it will be mutable if</span>
<a name="l00379"></a>00379 <span class="comment">   *         &lt;code&gt;T&lt;/code&gt; denotes a &lt;code&gt;JsonCppObject&lt;/code&gt;. For</span>
<a name="l00380"></a>00380 <span class="comment">   *         primitive types (and strings) this method will return copy</span>
<a name="l00381"></a>00381 <span class="comment">   *         that will not actually mutate the underlying element.</span>
<a name="l00382"></a>00382 <span class="comment">   */</span>
<a name="l00383"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a4c53dec9bfdb8d3ccd528e82c7b5981b">00383</a>   T <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a4c53dec9bfdb8d3ccd528e82c7b5981b" title="Returns a mutable value for the given index.">mutable_get</a>(<span class="keywordtype">int</span> i) {
<a name="l00384"></a>00384     <span class="keywordflow">return</span> JsonValueToMutableCppValueHelper&lt;T&gt;(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a2557ef3dfb0a3fb7e5a2574635943a61" title="Gets the [mutable] underlying JsonCpp storage for a given array element.">as_mutable_value</a>(i));
<a name="l00385"></a>00385   }
<a name="l00386"></a>00386 
<a name="l00387"></a>00387   <span class="comment">/*</span>
<a name="l00388"></a>00388 <span class="comment">   * Provides syntactic sugar for get using [] operator overloading.</span>
<a name="l00389"></a>00389 <span class="comment">   */</span>
<a name="l00390"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a9bc9fc06e8c77158486b0b5f563a0a3b">00390</a>   <span class="keyword">const</span> T <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a9bc9fc06e8c77158486b0b5f563a0a3b" title="Provides syntactic sugar for get using [] operator overloading.">operator[]</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">get</span>(i); }
<a name="l00391"></a>00391 
<a name="l00392"></a>00392   <span class="comment">/*</span>
<a name="l00393"></a>00393 <span class="comment">   * Provides syntactic sugar for mutable_get using [] operator overloading.</span>
<a name="l00394"></a>00394 <span class="comment">   */</span>
<a name="l00395"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a65bd299e8713016fb249940c6d991200">00395</a>   T <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a65bd299e8713016fb249940c6d991200" title="Provides syntactic sugar for mutable_get using [] operator overloading.">operator[]</a>(<span class="keywordtype">int</span> i) { <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a4c53dec9bfdb8d3ccd528e82c7b5981b" title="Returns a mutable value for the given index.">mutable_get</a>(i); }
<a name="l00396"></a>00396 
<a name="l00397"></a>00397 
<a name="l00398"></a>00398   <span class="comment">/*</span>
<a name="l00399"></a>00399 <span class="comment">   * Imports data from a C++ vector into this instance.</span>
<a name="l00400"></a>00400 <span class="comment">   *</span>
<a name="l00401"></a>00401 <span class="comment">   * This method will clear the current data before importing the new.</span>
<a name="l00402"></a>00402 <span class="comment">   *</span>
<a name="l00403"></a>00403 <span class="comment">   * @param[in] array The vector to import from.</span>
<a name="l00404"></a>00404 <span class="comment">   */</span>
<a name="l00405"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#af3538236b7f1d8e2b63690e8158fbc68">00405</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#af3538236b7f1d8e2b63690e8158fbc68" title="Imports data from a C++ vector into this instance.">Import</a>(<span class="keyword">const</span> vector&lt;T&gt;&amp; array) {
<a name="l00406"></a>00406     <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a2f6228c0f08d546e635de6758a4842ba" title="Clears this instance state to an empty object.">Clear</a>();
<a name="l00407"></a>00407     <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>()-&gt;resize(array.size());
<a name="l00408"></a>00408     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; array.size(); ++i) {
<a name="l00409"></a>00409       <span class="keyword">set</span>(i, array[i]);
<a name="l00410"></a>00410     }
<a name="l00411"></a>00411   }
<a name="l00412"></a>00412 
<a name="l00413"></a>00413   <span class="comment">/*</span>
<a name="l00414"></a>00414 <span class="comment">   * Imports data from a C++ aray into this instance.</span>
<a name="l00415"></a>00415 <span class="comment">   *</span>
<a name="l00416"></a>00416 <span class="comment">   * This method will clear the current data before importing the new.</span>
<a name="l00417"></a>00417 <span class="comment">   *</span>
<a name="l00418"></a>00418 <span class="comment">   * @param[in] array The array to import from.</span>
<a name="l00419"></a>00419 <span class="comment">   * @param[in] len The number of elements int he array to import.</span>
<a name="l00420"></a>00420 <span class="comment">   */</span>
<a name="l00421"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#aefd21439970d267f6fb34d6e340b266a">00421</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#aefd21439970d267f6fb34d6e340b266a" title="Imports data from a C++ aray into this instance.">Import</a>(<span class="keyword">const</span> T* array, <span class="keywordtype">int</span> len) {
<a name="l00422"></a>00422     <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a2f6228c0f08d546e635de6758a4842ba" title="Clears this instance state to an empty object.">Clear</a>();
<a name="l00423"></a>00423     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; len; ++i) {
<a name="l00424"></a>00424       <span class="keyword">set</span>(i, array[i]);
<a name="l00425"></a>00425     }
<a name="l00426"></a>00426   }
<a name="l00427"></a>00427 
<a name="l00428"></a>00428   <span class="comment">/*</span>
<a name="l00429"></a>00429 <span class="comment">   * Exports data from this instance into a given C++ vector.</span>
<a name="l00430"></a>00430 <span class="comment">   *</span>
<a name="l00431"></a>00431 <span class="comment">   * This will clear the array before exporting.</span>
<a name="l00432"></a>00432 <span class="comment">   */</span>
<a name="l00433"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3d4c96fcc989ff44a4ecd177e1d530dd">00433</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3d4c96fcc989ff44a4ecd177e1d530dd" title="Exports data from this instance into a given C++ vector.">Export</a>(vector&lt;T&gt;* array)<span class="keyword"> const </span>{ <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3d4c96fcc989ff44a4ecd177e1d530dd" title="Exports data from this instance into a given C++ vector.">Export</a>(0, <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#ab8e4e3e2a7bf18888b71bdf9dda0770b" title="Determines the number of elements currently in the array.">size</a>(), array); }
<a name="l00434"></a>00434 
<a name="l00435"></a>00435   <span class="comment">/*</span>
<a name="l00436"></a>00436 <span class="comment">   * Exports a range of data from this instance into a given C++ vector.</span>
<a name="l00437"></a>00437 <span class="comment">   *</span>
<a name="l00438"></a>00438 <span class="comment">   * This will clear the array before exporting.</span>
<a name="l00439"></a>00439 <span class="comment">   *</span>
<a name="l00440"></a>00440 <span class="comment">   * @param[in] offset The first index in this array to eport</span>
<a name="l00441"></a>00441 <span class="comment">   * @param[in] count The number of elements to export</span>
<a name="l00442"></a>00442 <span class="comment">   * @param[out] array The array to write to will be cleared before writing.</span>
<a name="l00443"></a>00443 <span class="comment">   *             The element at offset will be written into the 0&#39;th element.</span>
<a name="l00444"></a>00444 <span class="comment">   * @return false if the existing bounds of this array are not consistent</span>
<a name="l00445"></a>00445 <span class="comment">   * with the arguments.</span>
<a name="l00446"></a>00446 <span class="comment">   */</span>
<a name="l00447"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a5051f1b67a42b7f15ba4137b886a7d52">00447</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a5051f1b67a42b7f15ba4137b886a7d52" title="Exports a range of data from this instance into a given C++ vector.">Export</a>(<span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> count, vector&lt;T&gt;* array)<span class="keyword"> const </span>{
<a name="l00448"></a>00448     <span class="keyword">const</span> Json::Value&amp; json = <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>();
<a name="l00449"></a>00449     <span class="keywordflow">if</span> (offset + count &gt; json.size()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00450"></a>00450 
<a name="l00451"></a>00451     array-&gt;clear();
<a name="l00452"></a>00452     array-&gt;resize(count);
<a name="l00453"></a>00453     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {
<a name="l00454"></a>00454       (*array)[i] = <span class="keyword">get</span>(offset + i);
<a name="l00455"></a>00455     }
<a name="l00456"></a>00456     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00457"></a>00457   }
<a name="l00458"></a>00458 
<a name="l00459"></a>00459   <span class="comment">/*</span>
<a name="l00460"></a>00460 <span class="comment">   * Exports a range of data from this instance into a given C++ array.</span>
<a name="l00461"></a>00461 <span class="comment">   *</span>
<a name="l00462"></a>00462 <span class="comment">   * @param[in] offset The first index in this array to eport</span>
<a name="l00463"></a>00463 <span class="comment">   * @param[in] count The number of elements to export</span>
<a name="l00464"></a>00464 <span class="comment">   * @param[out] array The caller should ensure that there are count elements</span>
<a name="l00465"></a>00465 <span class="comment">   *             allocated in the array.</span>
<a name="l00466"></a>00466 <span class="comment">   * @return false if the existing bounds of this array are not consistent</span>
<a name="l00467"></a>00467 <span class="comment">   * with the arguments.</span>
<a name="l00468"></a>00468 <span class="comment">   */</span>
<a name="l00469"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3d17546513d3b388aac27679982341b4">00469</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html#a3d17546513d3b388aac27679982341b4" title="Exports a range of data from this instance into a given C++ array.">Export</a>(<span class="keywordtype">int</span> offset, <span class="keywordtype">int</span> count, T* array)<span class="keyword"> const </span>{
<a name="l00470"></a>00470     <span class="keyword">const</span> Json::Value&amp; json = <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>();
<a name="l00471"></a>00471     <span class="keywordflow">if</span> (offset + count &gt; json.size()) <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00472"></a>00472 
<a name="l00473"></a>00473     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; ++i) {
<a name="l00474"></a>00474       array[i] = <span class="keyword">get</span>(offset + i);
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00477"></a>00477   }
<a name="l00478"></a>00478 };
<a name="l00479"></a>00479 
<a name="l00480"></a>00480 
<a name="l00481"></a>00481 <span class="comment">/*</span>
<a name="l00482"></a>00482 <span class="comment"> * Denotes a JsonCppData instance that is a dictionary.</span>
<a name="l00483"></a>00483 <span class="comment"> * @ingroup DataLayerJsonCpp</span>
<a name="l00484"></a>00484 <span class="comment"> *</span>
<a name="l00485"></a>00485 <span class="comment"> * The JsonCppData wraps a shared reference to jsoncpp values.</span>
<a name="l00486"></a>00486 <span class="comment"> * Multiple objects may reference the same values. A dictionary</span>
<a name="l00487"></a>00487 <span class="comment"> * does not have homogenous value types. Usually you want to use</span>
<a name="l00488"></a>00488 <span class="comment"> * an associative array instead.</span>
<a name="l00489"></a>00489 <span class="comment"> *</span>
<a name="l00490"></a>00490 <span class="comment"> * This class is not thread-safe.</span>
<a name="l00491"></a>00491 <span class="comment"> *</span>
<a name="l00492"></a>00492 <span class="comment"> * @see JsonCppAssociativeArray</span>
<a name="l00493"></a>00493 <span class="comment"> */</span>
<a name="l00494"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html">00494</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html" title="Denotes a JsonCppData instance that is a dictionary.">JsonCppDictionary</a> : <span class="keyword">public</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a> {
<a name="l00495"></a>00495  <span class="keyword">public</span>:
<a name="l00496"></a>00496   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#ae59fa8bc0a08eeb6c24d7e5d56c0c973">JsonCppDictionary</a>(<span class="keyword">const</span> Json::Value&amp; value);
<a name="l00497"></a>00497   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#ae59fa8bc0a08eeb6c24d7e5d56c0c973">JsonCppDictionary</a>(Json::Value* value);
<a name="l00498"></a>00498 
<a name="l00499"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">00499</a>   <span class="keywordtype">int</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#ab8e4e3e2a7bf18888b71bdf9dda0770b">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().size(); }
<a name="l00500"></a>00500 
<a name="l00501"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#afd5cadc04f79e195740e76d3634792fc">00501</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#afd5cadc04f79e195740e76d3634792fc">has</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key)<span class="keyword"> const </span>{
<a name="l00502"></a>00502     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().isMember(key);
<a name="l00503"></a>00503   }
<a name="l00504"></a>00504 
<a name="l00505"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#afb2325e6db94700c3dfc8ff7faa40c0c">00505</a>   <span class="keywordtype">void</span> <span class="keyword">remove</span>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key) {
<a name="l00506"></a>00506     <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>()-&gt;removeMember(key);
<a name="l00507"></a>00507   }
<a name="l00508"></a>00508 
<a name="l00509"></a>00509   <span class="comment">// NOTE(ewiseblatt): 20120827</span>
<a name="l00510"></a>00510   <span class="comment">// The data value here is mutable. Currently there isnt a way to have</span>
<a name="l00511"></a>00511   <span class="comment">// just const values in a dictionary.</span>
<a name="l00512"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a8ca98ba6e3dc2a21ae1736dfb5c0ee2e">00512</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a8ca98ba6e3dc2a21ae1736dfb5c0ee2e" title="NOTE(ewiseblatt): 20120827 The data value here is mutable.">put_value</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> Json::Value&amp; data) {
<a name="l00513"></a>00513     *<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>(key) = data;
<a name="l00514"></a>00514   }
<a name="l00515"></a>00515 
<a name="l00516"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a248d449c3b5d7591980f00aadfbbbec2">00516</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a248d449c3b5d7591980f00aadfbbbec2">put_object</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a>&amp; value) {
<a name="l00517"></a>00517     *<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>(key) = value.<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>();
<a name="l00518"></a>00518   }
<a name="l00519"></a>00519 
<a name="l00520"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a0bd41e0f0abfba0d6230423886d90ce2">00520</a>   <span class="keyword">const</span> Json::Value&amp; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a0bd41e0f0abfba0d6230423886d90ce2">as_value</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>(key); }
<a name="l00521"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a5c81b56b1417a1c38358a60848b27f67">00521</a>   <span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a5c81b56b1417a1c38358a60848b27f67">as_object</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key)<span class="keyword"> const </span>{
<a name="l00522"></a>00522     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a5882a6534c179a6295b9614298f6cc83" title="Standard constructor for an immutable instances.">JsonCppData</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>(key));
<a name="l00523"></a>00523   }
<a name="l00524"></a>00524 
<a name="l00525"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a31de202acd44a8bb1e1e4683928b2087">00525</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html" title="Base class for data objects using JsonCpp for underlying state.">JsonCppData</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html#a31de202acd44a8bb1e1e4683928b2087">mutable_object</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key) {
<a name="l00526"></a>00526     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a5882a6534c179a6295b9614298f6cc83" title="Standard constructor for an immutable instances.">JsonCppData</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>(key));
<a name="l00527"></a>00527   }
<a name="l00528"></a>00528 };
<a name="l00529"></a>00529 
<a name="l00530"></a>00530 <span class="comment">/*</span>
<a name="l00531"></a>00531 <span class="comment"> * Denotes an associative array from string to values of type &lt;code&gt;T&lt;/code&gt;.</span>
<a name="l00532"></a>00532 <span class="comment"> * @ingroup DataLayerJsonCpp</span>
<a name="l00533"></a>00533 <span class="comment"> *</span>
<a name="l00534"></a>00534 <span class="comment"> * This class is not thread-safe.</span>
<a name="l00535"></a>00535 <span class="comment"> */</span>
<a name="l00536"></a>00536 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00537"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html">00537</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html" title="Denotes an associative array from string to values of type T.">JsonCppAssociativeArray</a> : <span class="keyword">public</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html" title="Denotes a JsonCppData instance that is a dictionary.">JsonCppDictionary</a> {
<a name="l00538"></a>00538  <span class="keyword">public</span>:
<a name="l00539"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#ae063188c0dae3149f771f0c8d6678659">00539</a>   <span class="keyword">typedef</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html" title="Iterator for JsonCppDataAssociativeArray.">JsonCppConstAssociativeIterator&lt;T&gt;</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#ae063188c0dae3149f771f0c8d6678659">const_iterator</a>;
<a name="l00540"></a>00540 
<a name="l00541"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#a4a372b874060f330ca507d43becb2691">00541</a>   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#a4a372b874060f330ca507d43becb2691">JsonCppAssociativeArray</a>(<span class="keyword">const</span> Json::Value&amp; value)
<a name="l00542"></a>00542     : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html" title="Denotes a JsonCppData instance that is a dictionary.">JsonCppDictionary</a>(value) {
<a name="l00543"></a>00543   }
<a name="l00544"></a>00544 
<a name="l00545"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#ad435aa36937b1e5bf34a02e5d1380ded">00545</a>   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#a4a372b874060f330ca507d43becb2691">JsonCppAssociativeArray</a>(Json::Value* value)
<a name="l00546"></a>00546     : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppDictionary.html" title="Denotes a JsonCppData instance that is a dictionary.">JsonCppDictionary</a>(value) {
<a name="l00547"></a>00547   }
<a name="l00548"></a>00548 
<a name="l00549"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#a3b94627f272ebbbb02936838d0d5d2bf">00549</a>   <span class="keywordtype">bool</span> <span class="keyword">get</span>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key, T* value) <span class="keyword">const</span> {
<a name="l00550"></a>00550     CHECK_NOTNULL(value);
<a name="l00551"></a>00551     Json::Value v = <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().get(key, Json::Value::null);
<a name="l00552"></a>00552     <span class="keywordflow">if</span> (v == Json::Value::null) {
<a name="l00553"></a>00553       <a class="code" href="namespacegoogleapis_1_1client.html#a537dde26954518362656736528a454f8" title="Converts a Json::Value into C++ value.">ClearCppValueHelper</a>(value);
<a name="l00554"></a>00554       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00555"></a>00555     }
<a name="l00556"></a>00556     <a class="code" href="namespacegoogleapis_1_1client.html#ac952850b2853ae84717b890a1669442d">SetCppValueFromJsonValueHelper</a>(v, value);
<a name="l00557"></a>00557     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00558"></a>00558   }
<a name="l00559"></a>00559 
<a name="l00560"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#ab8360cdc5c3eeeb2de4b2372824cb561">00560</a>   <span class="keywordtype">void</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#ab8360cdc5c3eeeb2de4b2372824cb561">put</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* key, <span class="keyword">const</span> T&amp; value) {
<a name="l00561"></a>00561     <a class="code" href="namespacegoogleapis_1_1client.html#a3e34701fdc00e551984071aabb9469b0">SetJsonValueFromCppValueHelper</a>(value, <a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#a3b0108b1f25f92f730ae70632dccaf0f" title="Returns a pointer to the storage bound in the constructor.">MutableStorage</a>(key));
<a name="l00562"></a>00562   }
<a name="l00563"></a>00563 
<a name="l00564"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#aa4b02d4f1a8500fb07a551069060709f">00564</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html" title="Iterator for JsonCppDataAssociativeArray.">const_iterator</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#aa4b02d4f1a8500fb07a551069060709f">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#ae063188c0dae3149f771f0c8d6678659">const_iterator</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#aa4b02d4f1a8500fb07a551069060709f">begin</a>()); }
<a name="l00565"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#a350132543d80a1c1e5be844e6d2878ea">00565</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html" title="Iterator for JsonCppDataAssociativeArray.">const_iterator</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#a350132543d80a1c1e5be844e6d2878ea">end</a>()<span class="keyword"> const   </span>{ <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#ae063188c0dae3149f771f0c8d6678659">const_iterator</a>(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppData.html#aecad96c99d9fe776c3e9fefbdea93675" title="Returns reference to the Json::Value instance used for storage.">Storage</a>().<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html#a350132543d80a1c1e5be844e6d2878ea">end</a>()); }
<a name="l00566"></a>00566 };
<a name="l00567"></a>00567 
<a name="l00568"></a>00568 
<a name="l00569"></a>00569 <span class="comment">/*</span>
<a name="l00570"></a>00570 <span class="comment"> * Helper class for constructing new top-level JsonCppData instances.</span>
<a name="l00571"></a>00571 <span class="comment"> * @ingroup DataLayerJsonCpp</span>
<a name="l00572"></a>00572 <span class="comment"> *</span>
<a name="l00573"></a>00573 <span class="comment"> * The base JsonCppData class requires storage managed externally. When</span>
<a name="l00574"></a>00574 <span class="comment"> * creating new top-level instances you do not necessarily have a Json::Value</span>
<a name="l00575"></a>00575 <span class="comment"> * instance already nor do you want to worry about managing one.</span>
<a name="l00576"></a>00576 <span class="comment"> *</span>
<a name="l00577"></a>00577 <span class="comment"> * This capsule creates a specialization of any standard class derived from</span>
<a name="l00578"></a>00578 <span class="comment"> * JsonCppData that provides its own storage for a default constructor.It is</span>
<a name="l00579"></a>00579 <span class="comment"> * only inteded for actually instantiating new instances. When passing them</span>
<a name="l00580"></a>00580 <span class="comment"> * around, the BASE class should be used in the interfaces.</span>
<a name="l00581"></a>00581 <span class="comment"> */</span>
<a name="l00582"></a>00582 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> BASE&gt;
<a name="l00583"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppCapsule.html">00583</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppCapsule.html" title="Helper class for constructing new top-level JsonCppData instances.">JsonCppCapsule</a> : <span class="keyword">public</span> BASE {
<a name="l00584"></a>00584  <span class="keyword">public</span>:
<a name="l00585"></a>00585   <span class="comment">/*</span>
<a name="l00586"></a>00586 <span class="comment">   * Default constructor</span>
<a name="l00587"></a>00587 <span class="comment">   */</span>
<a name="l00588"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppCapsule.html#a89c4c5cb9e08ded4884689644b9bd987">00588</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppCapsule.html#a89c4c5cb9e08ded4884689644b9bd987" title="Default constructor.">JsonCppCapsule</a>() : BASE(&amp;storage_) {}
<a name="l00589"></a>00589 
<a name="l00590"></a>00590   <span class="comment">/*</span>
<a name="l00591"></a>00591 <span class="comment">   * Standard destructor</span>
<a name="l00592"></a>00592 <span class="comment">   */</span>
<a name="l00593"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppCapsule.html#ab7db776d7c76204e907094dd600a449c">00593</a>   <span class="keyword">virtual</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppCapsule.html#ab7db776d7c76204e907094dd600a449c" title="Standard destructor.">~JsonCppCapsule</a>() {}
<a name="l00594"></a>00594 
<a name="l00595"></a>00595  <span class="keyword">private</span>:
<a name="l00596"></a>00596   Json::Value storage_;
<a name="l00597"></a>00597   DISALLOW_COPY_AND_ASSIGN(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppCapsule.html" title="Helper class for constructing new top-level JsonCppData instances.">JsonCppCapsule</a>);
<a name="l00598"></a>00598 };
<a name="l00599"></a>00599 
<a name="l00600"></a>00600 <span class="comment">/*</span>
<a name="l00601"></a>00601 <span class="comment"> * A helper class for index or key-based iterators.</span>
<a name="l00602"></a>00602 <span class="comment"> *</span>
<a name="l00603"></a>00603 <span class="comment"> * It just delegates to the base JsonCpp iterator.</span>
<a name="l00604"></a>00604 <span class="comment"> *</span>
<a name="l00605"></a>00605 <span class="comment"> * Note that because the data model is call-by-value-result theiterator can</span>
<a name="l00606"></a>00606 <span class="comment"> * only return copies and not references. Therefore we&#39;ll not be able to</span>
<a name="l00607"></a>00607 <span class="comment"> * modify values in place (i.e. this will not support a non-const iterator)</span>
<a name="l00608"></a>00608 <span class="comment"> */</span>
<a name="l00609"></a>00609 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> DATA, <span class="keyword">typename</span> ITERATOR&gt;
<a name="l00610"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">00610</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator</a> {
<a name="l00611"></a>00611  <span class="keyword">public</span>:
<a name="l00612"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#ae6fe2701baab9890fef13f316ab3282a">00612</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> ITERATOR::size_t <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#ae6fe2701baab9890fef13f316ab3282a">size_t</a>;
<a name="l00613"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#ae02d5ca5243fa929fb43989489851f25">00613</a>   <span class="keyword">typedef</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator&lt;DATA, ITERATOR&gt;</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#ae02d5ca5243fa929fb43989489851f25">SelfType</a>;
<a name="l00614"></a>00614 
<a name="l00615"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#af50ae69a639b27127f19d2db876c55e7">00615</a>   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#af50ae69a639b27127f19d2db876c55e7">JsonCppAbstractIterator</a>(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">SelfType</a>&amp; copy) : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>(copy.<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>) {}
<a name="l00616"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a59be756fa2f6ff8db1e2d06b311300d0">00616</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a59be756fa2f6ff8db1e2d06b311300d0">~JsonCppAbstractIterator</a>() {}
<a name="l00617"></a>00617 
<a name="l00618"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#aa5060952818487416e59f4e7b0ee5987">00618</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">SelfType</a>&amp; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#aa5060952818487416e59f4e7b0ee5987">operator=</a>(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator</a>&amp; copy) {
<a name="l00619"></a>00619     <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a> = copy.<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>;
<a name="l00620"></a>00620     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00621"></a>00621   }
<a name="l00622"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a5bbd42eb3064f475b41a3011ec562e21">00622</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">SelfType</a>&amp; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a5bbd42eb3064f475b41a3011ec562e21">operator++</a>() {
<a name="l00623"></a>00623     ++<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>;
<a name="l00624"></a>00624     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00625"></a>00625   }
<a name="l00626"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#ad0dd3a66cbf2a07d64eea31b75e61b7e">00626</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#ad0dd3a66cbf2a07d64eea31b75e61b7e">operator==</a>(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">SelfType</a>&amp; it)<span class="keyword"> const </span>{
<a name="l00627"></a>00627     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a> == it.<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>;
<a name="l00628"></a>00628   }
<a name="l00629"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a0903bc070007fffb5723cf604a96cd92">00629</a>   <span class="keywordtype">bool</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a0903bc070007fffb5723cf604a96cd92">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">SelfType</a>&amp; it)<span class="keyword"> const </span>{
<a name="l00630"></a>00630     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a> != it.<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>;
<a name="l00631"></a>00631   }
<a name="l00632"></a>00632 
<a name="l00633"></a>00633  <span class="keyword">protected</span>:
<a name="l00634"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#addee4e7ba610a956e81f7cf57f9a9337">00634</a>   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#addee4e7ba610a956e81f7cf57f9a9337">JsonCppAbstractIterator</a>(<span class="keyword">const</span> ITERATOR&amp; it) : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>(it) {}
<a name="l00635"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">00635</a>   ITERATOR <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">it_</a>;
<a name="l00636"></a>00636 };
<a name="l00637"></a>00637 
<a name="l00638"></a>00638 <span class="comment">/*</span>
<a name="l00639"></a>00639 <span class="comment"> * Iterator for index-based JsonCppDataArray.</span>
<a name="l00640"></a>00640 <span class="comment"> * @ingroup DataLayerJsonCpp</span>
<a name="l00641"></a>00641 <span class="comment"> *</span>
<a name="l00642"></a>00642 <span class="comment"> * Provides access to the index in the array which might be helpful for</span>
<a name="l00643"></a>00643 <span class="comment"> * making modifications directly into the array if needed,</span>
<a name="l00644"></a>00644 <span class="comment"> * since we cannot support non-const iterators.</span>
<a name="l00645"></a>00645 <span class="comment"> */</span>
<a name="l00646"></a>00646 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00647"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html">00647</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html" title="Iterator for index-based JsonCppDataArray.">JsonCppConstIndexIterator</a>
<a name="l00648"></a>00648     : <span class="keyword">public</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator</a>&lt;T, Json::Value::const_iterator&gt; {
<a name="l00649"></a>00649  <span class="keyword">public</span>:
<a name="l00650"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#adf1fda764cecb8efb7fc5b0f6137d754">00650</a>   <span class="keyword">typedef</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html" title="Iterator for index-based JsonCppDataArray.">JsonCppConstIndexIterator&lt;T&gt;</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#adf1fda764cecb8efb7fc5b0f6137d754">SelfType</a>;
<a name="l00651"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#aa9cc55a0f3e35363ac2385cf8975af25">00651</a>   <span class="keyword">typedef</span> T <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#aa9cc55a0f3e35363ac2385cf8975af25">reference</a>;  <span class="comment">// Note we&#39;re using copy-by-value references</span>
<a name="l00652"></a>00652 
<a name="l00653"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#adc4c20a3e3db4bc1fa90659cf2fc7d56">00653</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#adc4c20a3e3db4bc1fa90659cf2fc7d56" title="Note we&#39;re using copy-by-value references.">JsonCppConstIndexIterator</a>(<span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html" title="Iterator for index-based JsonCppDataArray.">JsonCppConstIndexIterator&lt;T&gt;</a>&amp; copy)
<a name="l00654"></a>00654       : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator</a>&lt;T, Json::Value::const_iterator&gt;(copy) {}
<a name="l00655"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#a4f265c96e88421978fb8a6f32008295c">00655</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#a4f265c96e88421978fb8a6f32008295c">~JsonCppConstIndexIterator</a>() {}
<a name="l00656"></a>00656 
<a name="l00657"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#aa149c2249879e7727f33688b76bf2c99">00657</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#aa9cc55a0f3e35363ac2385cf8975af25">reference</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#aa149c2249879e7727f33688b76bf2c99">operator*</a>()<span class="keyword"> const </span>{
<a name="l00658"></a>00658     <span class="keywordflow">return</span> JsonValueToCppValueHelper&lt;T&gt;(
<a name="l00659"></a>00659         *<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator&lt;T, Json::Value::const_iterator&gt;::it_</a>);
<a name="l00660"></a>00660   }
<a name="l00661"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#ad9c88ed5e8125d66291acd55da72d73e">00661</a>   <span class="keywordtype">int</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#ad9c88ed5e8125d66291acd55da72d73e">index</a>()<span class="keyword"> const </span>{
<a name="l00662"></a>00662     <span class="keywordflow">return</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator</a>&lt;
<a name="l00663"></a>00663       T, Json::Value::const_iterator&gt;<a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">::it_</a>.index(); }
<a name="l00664"></a>00664 
<a name="l00665"></a>00665  <span class="keyword">private</span>:
<a name="l00666"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#a287d42571c67f702e36ae1bebc7bf9f7">00666</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppArray.html" title="Base class template for a JsonCppData object that is an array.">JsonCppArray</a>&lt;T&gt;;
<a name="l00667"></a>00667   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstIndexIterator.html#adc4c20a3e3db4bc1fa90659cf2fc7d56" title="Note we&#39;re using copy-by-value references.">JsonCppConstIndexIterator</a>(<span class="keyword">const</span> Json::Value::const_iterator&amp; it)
<a name="l00668"></a>00668       : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator</a>&lt;T, Json::Value::const_iterator&gt;(it) {}
<a name="l00669"></a>00669 };
<a name="l00670"></a>00670 
<a name="l00671"></a>00671 <span class="comment">/*</span>
<a name="l00672"></a>00672 <span class="comment"> * Iterator for JsonCppDataAssociativeArray.</span>
<a name="l00673"></a>00673 <span class="comment"> * @ingroup DataLayerJsonCpp</span>
<a name="l00674"></a>00674 <span class="comment"> */</span>
<a name="l00675"></a>00675 <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
<a name="l00676"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html">00676</a> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html" title="Iterator for JsonCppDataAssociativeArray.">JsonCppConstAssociativeIterator</a>
<a name="l00677"></a>00677     : <span class="keyword">public</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator</a>&lt;pair&lt;const string, T&gt;,
<a name="l00678"></a>00678                                      Json::Value::const_iterator&gt; {
<a name="l00679"></a>00679  <span class="keyword">public</span>:
<a name="l00680"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a905050b31ae32cbf363a788b14d7b819">00680</a>   <span class="keyword">typedef</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html" title="Iterator for JsonCppDataAssociativeArray.">JsonCppConstAssociativeIterator&lt;T&gt;</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a905050b31ae32cbf363a788b14d7b819">SelfType</a>;
<a name="l00681"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a6e86ea28e9043f3ade03e7ff72dbff45">00681</a>   <span class="keyword">typedef</span> pair&lt;const string, T&gt; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a6e86ea28e9043f3ade03e7ff72dbff45">reference</a>;
<a name="l00682"></a>00682   <span class="keyword">typedef</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html" title="A helper class for index or key-based iterators.">JsonCppAbstractIterator&lt;pair&lt;const string, T&gt;</a>,
<a name="l00683"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a30629f9d31d2e9a9698a59a7bdb6e3ef">00683</a>                                   Json::Value::const_iterator&gt; <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a30629f9d31d2e9a9698a59a7bdb6e3ef">SuperClass</a>;
<a name="l00684"></a>00684 
<a name="l00685"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a755af2293d6bb2c0bd878cda1c44fae6">00685</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a755af2293d6bb2c0bd878cda1c44fae6">JsonCppConstAssociativeIterator</a>(
<a name="l00686"></a>00686       <span class="keyword">const</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html" title="Iterator for JsonCppDataAssociativeArray.">JsonCppConstAssociativeIterator&lt;T&gt;</a>&amp; copy) : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">SuperClass</a>(copy) {
<a name="l00687"></a>00687   }
<a name="l00688"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#ae698e05548f77ab2bb4e4c8b3c012349">00688</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#ae698e05548f77ab2bb4e4c8b3c012349">~JsonCppConstAssociativeIterator</a>() {}
<a name="l00689"></a>00689 
<a name="l00690"></a>00690   <span class="comment">// If you only care about one part of the pair, consider key() or value().</span>
<a name="l00691"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#aa149c2249879e7727f33688b76bf2c99">00691</a>   <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a6e86ea28e9043f3ade03e7ff72dbff45">reference</a> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#aa149c2249879e7727f33688b76bf2c99" title="If you only care about one part of the pair, consider key() or value().">operator*</a>()<span class="keyword"> const </span>{
<a name="l00692"></a>00692     <span class="keywordflow">return</span> make_pair(<a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#afcb803c8e64c5112ed9551638fad93b3" title="This returns a copy of the string, not a reference to the string.">key</a>(), <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a77e3cf1a53b12e5105898db36d7a21fa">value</a>());
<a name="l00693"></a>00693   }
<a name="l00694"></a>00694 
<a name="l00695"></a>00695   <span class="comment">// This returns a copy of the string, not a reference to the string.</span>
<a name="l00696"></a>00696   <span class="comment">// Unfortunately this is an implementation detail caused by limitations</span>
<a name="l00697"></a>00697   <span class="comment">// of the underlying data model.</span>
<a name="l00698"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#afcb803c8e64c5112ed9551638fad93b3">00698</a>   <span class="keyword">const</span> <span class="keywordtype">string</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#afcb803c8e64c5112ed9551638fad93b3" title="This returns a copy of the string, not a reference to the string.">key</a>()<span class="keyword"> const </span>{
<a name="l00699"></a>00699     <span class="comment">// The iterator retuns a local object so the CString/string values</span>
<a name="l00700"></a>00700     <span class="comment">// disappear ones it leaves scope, forcing us to have to return a copy.</span>
<a name="l00701"></a>00701     <span class="keyword">const</span> Json::Value&amp; temp = <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html#a158f88f89dcd15c840e33d10ae60aeff">SuperClass::it_</a>.key();
<a name="l00702"></a>00702     <span class="keywordflow">return</span> temp.asString();
<a name="l00703"></a>00703   }
<a name="l00704"></a>00704 
<a name="l00705"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a77e3cf1a53b12e5105898db36d7a21fa">00705</a>   T <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a77e3cf1a53b12e5105898db36d7a21fa">value</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> JsonValueToCppValueHelper&lt;T&gt;(*SuperClass::it_); }
<a name="l00706"></a>00706 
<a name="l00707"></a>00707  <span class="keyword">private</span>:
<a name="l00708"></a><a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#ae34bc75e6b0bb4cd2103fc9b45c2f716">00708</a>   <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classgoogleapis_1_1client_1_1JsonCppAssociativeArray.html" title="Denotes an associative array from string to values of type T.">JsonCppAssociativeArray</a>&lt;T&gt;;
<a name="l00709"></a>00709   <span class="keyword">explicit</span> <a class="code" href="classgoogleapis_1_1client_1_1JsonCppConstAssociativeIterator.html#a755af2293d6bb2c0bd878cda1c44fae6">JsonCppConstAssociativeIterator</a>(
<a name="l00710"></a>00710       <span class="keyword">const</span> Json::Value::const_iterator&amp; it) : <a class="code" href="classgoogleapis_1_1client_1_1JsonCppAbstractIterator.html">SuperClass</a>(it) {
<a name="l00711"></a>00711   }
<a name="l00712"></a>00712 };
<a name="l00713"></a>00713 
<a name="l00714"></a>00714 }  <span class="comment">// namespace client</span>
<a name="l00715"></a>00715 
<a name="l00716"></a>00716 } <span class="comment">// namespace googleapis</span>
<a name="l00717"></a>00717 <span class="preprocessor">#endif  // APISERVING_CLIENTS_CPP_DATA_JSONCPP_DATA_H_</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="jsoncpp__data_8h.html">jsoncpp_data.h</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
