<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Google APIs Client Library for C++: MediaUploader Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Google APIs Client Library for C++
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classgoogleapis_1_1client_1_1MediaUploader.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">MediaUploader Class Reference<div class="ingroups"><a class="el" href="group__ClientServiceLayer.html">Client Service Layer</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="googleapis::client::MediaUploader" -->
<p>Uploader for using Google media upload protocols.  
 <a href="classgoogleapis_1_1client_1_1MediaUploader.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="media__uploader_8h_source.html">client/service/media_uploader.h</a>&quot;</code></p>

<p><a href="classgoogleapis_1_1client_1_1MediaUploader-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef ResultCallback2<br class="typebreak"/>
&lt; <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>, const <br class="typebreak"/>
StringPiece &amp;, string * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a8e0d5b901fb93accf032b7beddaf5448">UrlPreparer</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function used to resolve URI templated variables in a URI.  <a href="#a8e0d5b901fb93accf032b7beddaf5448"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a9dbde9a356920cc3a60a9686f6f49c7f">MediaUploader</a> (const <a class="el" href="classgoogleapis_1_1client_1_1MediaUploadSpec.html">MediaUploadSpec</a> *spec, const StringPiece &amp;<a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#ac35f74f8bad726c9e4f1be7c0ba5f837">base_url</a>, const StringPiece &amp;<a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a9628e018938851c9514f7eb7d8c56f4c">non_media_upload_path</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard constructor.  <a href="#a9dbde9a356920cc3a60a9686f6f49c7f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#abaa098a6ba206365fe0013afd6f8578e">~MediaUploader</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Standard destructor.  <a href="#abaa098a6ba206365fe0013afd6f8578e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a027033da70f87c1244b739fbe12d249b">is_ready</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out if BuildRequest was called and returned successfully so that the uploader is ready to <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a3bc5a6f56b3314103ddc0a16cd5c464b" title="Synchronously perform the upload protocol using the given request.">Upload()</a>.  <a href="#a027033da70f87c1244b739fbe12d249b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a6c181289ecef31e96d33aaa6a94fd609">set_multipart_boundary</a> (const string &amp;boundary)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set custom multipart oundary separator.  <a href="#a6c181289ecef31e96d33aaa6a94fd609"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a902082223eede2cb9c8df8e852fffb9e">multipart_boundary</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the separator string used to denote the multipart boundary.  <a href="#a902082223eede2cb9c8df8e852fffb9e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#aa83a4fd8fb1da89a6af72c87438f1d63">set_metadata</a> (const <a class="el" href="classgoogleapis_1_1client_1_1SerializableJson.html">SerializableJson</a> &amp;from_json)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the metadata using a Json object or pre-encoded string.  <a href="#aa83a4fd8fb1da89a6af72c87438f1d63"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a0ac503af861b3fa5edd7f0b0a7a02777">set_metadata</a> (const string &amp;content_type, const string &amp;from_text)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the metadata using a Json object or pre-encoded string.  <a href="#a0ac503af861b3fa5edd7f0b0a7a02777"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a756eecbd2d2a39c0a7f1c37df3888b71">set_media_content_reader</a> (const string &amp;content_type, <a class="el" href="classgoogleapis_1_1client_1_1DataReader.html">DataReader</a> *media)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the media content payload byte stream.  <a href="#a756eecbd2d2a39c0a7f1c37df3888b71"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#ac35f74f8bad726c9e4f1be7c0ba5f837">base_url</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the base_url bound in teh constructor.  <a href="#ac35f74f8bad726c9e4f1be7c0ba5f837"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a9628e018938851c9514f7eb7d8c56f4c">non_media_upload_path</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the non_media_upload_path bound in the constructor.  <a href="#a9628e018938851c9514f7eb7d8c56f4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a3bc5a6f56b3314103ddc0a16cd5c464b">Upload</a> (<a class="el" href="classgoogleapis_1_1client_1_1HttpRequest.html">HttpRequest</a> *http_request)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronously perform the upload protocol using the given request.  <a href="#a3bc5a6f56b3314103ddc0a16cd5c464b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a1a6b00ae4c8d098a83be234e34ec0547">BuildRequest</a> (<a class="el" href="classgoogleapis_1_1client_1_1HttpRequest.html">HttpRequest</a> *request, <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a8e0d5b901fb93accf032b7beddaf5448">UrlPreparer</a> *url_preparer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">prepares the uploader and builds the <a class="el" href="classgoogleapis_1_1client_1_1HttpRequest.html" title="Denotes an HTTP request to be sent to an HTTP server.">HttpRequest</a>.  <a href="#a1a6b00ae4c8d098a83be234e34ec0547"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Uploader for using Google media upload protocols. </p>
<p>In practice the methods generated by the code generator provide a factory that creates one of these and you just populated it. The upload happens when the method (acting as the factory) executes.</p>
<pre>
    scoped_ptr&lt;drive_api::File&gt; file(drive_api::File::New());
    file-&gt;set_title(StrCat("Uploaded from ", path));</pre><pre>    const DriveService::FilesResource&amp; ops = app_-&gt;service()-&gt;get_files();
    scoped_ptr&lt;FilesResource_InsertMethod&gt; insert(
        ops.NewInsertMethod(app_-&gt;credential()));
    <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html" title="Uploader for using Google media upload protocols.">client::MediaUploader</a>* uploader = insert-&gt;media_uploader();
    uploader-&gt;set_metadata(*file);
    uploader-&gt;set_media_content(mime_type.as_string(), file_content);
    insert-&gt;Execute();
 </pre><p>If using this yourself then instead of the insert-&gt;Execute you would call uploader-&gt;upload, passing in the http_request to upload and http_response. You can explicitly form the request yourself, or call BuildRequest to initialize a standard one.</p>
<p>The media uploader is not reusable at this time.</p>
<p>TODO(ewiseblatt): Only a synchronous Upload is provided at this time but eventually this will support asynchronous uploads. Even so, the underlying <a class="el" href="classgoogleapis_1_1client_1_1HttpRequest.html" title="Denotes an HTTP request to be sent to an HTTP server.">HttpRequest</a> and its <a class="el" href="classgoogleapis_1_1client_1_1HttpResponse.html" title="Captures the response from HttpRequest invocations.">HttpResponse</a> attribute are threadsafe and support condition variables so you can Upload in a thread and synchronize on the response in another.</p>
<p>TODO(ewiseblatt): The interface does not yet support -- streaming content -- resumable uploads -- auto protocol selection To add auto selection I'll probably configure it with a vector of specs to choose from. </p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a8e0d5b901fb93accf032b7beddaf5448"></a><!-- doxytag: member="googleapis::client::MediaUploader::UrlPreparer" ref="a8e0d5b901fb93accf032b7beddaf5448" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef ResultCallback2&lt; <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>, const StringPiece&amp;, string*&gt; <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a8e0d5b901fb93accf032b7beddaf5448">UrlPreparer</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Callback function used to resolve URI templated variables in a URI. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">StringPiece</td><td>is the URI to resolve. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">The</td><td>resolved URL </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>success if all the URI parameters could be resolved, failure if somec could not. resolved url </dd></dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9dbde9a356920cc3a60a9686f6f49c7f"></a><!-- doxytag: member="googleapis::client::MediaUploader::MediaUploader" ref="a9dbde9a356920cc3a60a9686f6f49c7f" args="(const MediaUploadSpec *spec, const StringPiece &amp;base_url, const StringPiece &amp;non_media_upload_path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html">MediaUploader</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgoogleapis_1_1client_1_1MediaUploadSpec.html">MediaUploadSpec</a> *&#160;</td>
          <td class="paramname"><em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const StringPiece &amp;&#160;</td>
          <td class="paramname"><em>base_url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const StringPiece &amp;&#160;</td>
          <td class="paramname"><em>non_media_upload_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Standard constructor. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">spec</td><td>Should remain valid over the lifetime of the instance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base_url</td><td>The url that the spec paths are relative to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">non_media_upload_path</td><td>The path to send metadata to when there is no media content (i.e. the non-media upload case).</td></tr>
  </table>
  </dd>
</dl>
<p>TODO(ewiseblatt): In the future this will also be used if multipart is not supported. </p>

</div>
</div>
<a class="anchor" id="abaa098a6ba206365fe0013afd6f8578e"></a><!-- doxytag: member="googleapis::client::MediaUploader::~MediaUploader" ref="abaa098a6ba206365fe0013afd6f8578e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual ~<a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html">MediaUploader</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Standard destructor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac35f74f8bad726c9e4f1be7c0ba5f837"></a><!-- doxytag: member="googleapis::client::MediaUploader::base_url" ref="ac35f74f8bad726c9e4f1be7c0ba5f837" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string&amp; <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#ac35f74f8bad726c9e4f1be7c0ba5f837">base_url</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the base_url bound in teh constructor. </p>

</div>
</div>
<a class="anchor" id="a1a6b00ae4c8d098a83be234e34ec0547"></a><!-- doxytag: member="googleapis::client::MediaUploader::BuildRequest" ref="a1a6b00ae4c8d098a83be234e34ec0547" args="(HttpRequest *request, UrlPreparer *url_preparer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a> <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a1a6b00ae4c8d098a83be234e34ec0547">BuildRequest</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogleapis_1_1client_1_1HttpRequest.html">HttpRequest</a> *&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a8e0d5b901fb93accf032b7beddaf5448">UrlPreparer</a> *&#160;</td>
          <td class="paramname"><em>url_preparer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>prepares the uploader and builds the <a class="el" href="classgoogleapis_1_1client_1_1HttpRequest.html" title="Denotes an HTTP request to be sent to an HTTP server.">HttpRequest</a>. </p>
<p>This fills out the request body and any critical headers that the underlying protocol uses. Any metadata and content attributes for the uploader must be set before calling this method.</p>
<p>This method also determines the final protocol and url endpoint to use. The url_preparer is used to resolve variables in templated urls and add any other query parameters. It is only called once so can be a single use callback. It can be left NULL to not modify the protocol url, but should only do so if there are known to be no templated parameters in the urls or extra query parameters needed in the upload request.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">request</td><td>The request to build. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">url_preparer</td><td>The Callback for resolving template variables in the upload url if it was specified using URI Templating.. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a027033da70f87c1244b739fbe12d249b"></a><!-- doxytag: member="googleapis::client::MediaUploader::is_ready" ref="a027033da70f87c1244b739fbe12d249b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a027033da70f87c1244b739fbe12d249b">is_ready</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find out if BuildRequest was called and returned successfully so that the uploader is ready to <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a3bc5a6f56b3314103ddc0a16cd5c464b" title="Synchronously perform the upload protocol using the given request.">Upload()</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if can perform media upload, false if not yet ready. </dd></dl>

</div>
</div>
<a class="anchor" id="a902082223eede2cb9c8df8e852fffb9e"></a><!-- doxytag: member="googleapis::client::MediaUploader::multipart_boundary" ref="a902082223eede2cb9c8df8e852fffb9e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string&amp; <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a902082223eede2cb9c8df8e852fffb9e">multipart_boundary</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the separator string used to denote the multipart boundary. </p>

</div>
</div>
<a class="anchor" id="a9628e018938851c9514f7eb7d8c56f4c"></a><!-- doxytag: member="googleapis::client::MediaUploader::non_media_upload_path" ref="a9628e018938851c9514f7eb7d8c56f4c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const string&amp; <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a9628e018938851c9514f7eb7d8c56f4c">non_media_upload_path</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the non_media_upload_path bound in the constructor. </p>

</div>
</div>
<a class="anchor" id="a756eecbd2d2a39c0a7f1c37df3888b71"></a><!-- doxytag: member="googleapis::client::MediaUploader::set_media_content_reader" ref="a756eecbd2d2a39c0a7f1c37df3888b71" args="(const string &amp;content_type, DataReader *media)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a756eecbd2d2a39c0a7f1c37df3888b71">set_media_content_reader</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>content_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgoogleapis_1_1client_1_1DataReader.html">DataReader</a> *&#160;</td>
          <td class="paramname"><em>media</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the media content payload byte stream. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">content_type</td><td>The media payload content type. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">media</td><td>Takes ownership of the mdeia payload byte stream.</td></tr>
  </table>
  </dd>
</dl>
<p>If the reader is known to be empty then no content will be uploaded allowing the uploader to just send the metadata (if any). </p>

</div>
</div>
<a class="anchor" id="aa83a4fd8fb1da89a6af72c87438f1d63"></a><!-- doxytag: member="googleapis::client::MediaUploader::set_metadata" ref="aa83a4fd8fb1da89a6af72c87438f1d63" args="(const SerializableJson &amp;from_json)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#aa83a4fd8fb1da89a6af72c87438f1d63">set_metadata</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgoogleapis_1_1client_1_1SerializableJson.html">SerializableJson</a> &amp;&#160;</td>
          <td class="paramname"><em>from_json</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the metadata using a Json object or pre-encoded string. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">from_json</td><td>If this is empty then no metadata will be added (i.e. just a media upload). Otherwise this is a JSON-encoded metadata payload. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0ac503af861b3fa5edd7f0b0a7a02777"></a><!-- doxytag: member="googleapis::client::MediaUploader::set_metadata" ref="a0ac503af861b3fa5edd7f0b0a7a02777" args="(const string &amp;content_type, const string &amp;from_text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#aa83a4fd8fb1da89a6af72c87438f1d63">set_metadata</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>content_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>from_text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the metadata using a Json object or pre-encoded string. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">content_type</td><td>The content type of the metadata payload. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">from_text</td><td>The content_type encoded metadata payload. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6c181289ecef31e96d33aaa6a94fd609"></a><!-- doxytag: member="googleapis::client::MediaUploader::set_multipart_boundary" ref="a6c181289ecef31e96d33aaa6a94fd609" args="(const string &amp;boundary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a6c181289ecef31e96d33aaa6a94fd609">set_multipart_boundary</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>boundary</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set custom multipart oundary separator. </p>
<p>Overrides the boundary used for multipart separators should this instance ever create a multipart content_type.</p>
<p>If the boundary is empty then it will be automatically determined from the content. Since the content reader may not be resettable, relying on auto-boundaries might make the request unsendable if the content payload cannot be reset between discovering the boundary and sending the message. </p>

</div>
</div>
<a class="anchor" id="a3bc5a6f56b3314103ddc0a16cd5c464b"></a><!-- doxytag: member="googleapis::client::MediaUploader::Upload" ref="a3bc5a6f56b3314103ddc0a16cd5c464b" args="(HttpRequest *http_request)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a> <a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html#a3bc5a6f56b3314103ddc0a16cd5c464b">Upload</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classgoogleapis_1_1client_1_1HttpRequest.html">HttpRequest</a> *&#160;</td>
          <td class="paramname"><em>http_request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Synchronously perform the upload protocol using the given request. </p>
<p>This method requires BuildRequest was called to fill out the request. If authorization is needed, the credentials should be set on the request.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">http_request</td><td>The request used to perform the upload. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The overall status of the upload. Error detail can be retrieved from the http_request-&gt;status(). </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>googleapis/client/service/<a class="el" href="media__uploader_8h_source.html">media_uploader.h</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacegoogleapis.html">googleapis</a>      </li>
      <li class="navelem"><a class="el" href="namespacegoogleapis_1_1client.html">client</a>      </li>
      <li class="navelem"><a class="el" href="classgoogleapis_1_1client_1_1MediaUploader.html">MediaUploader</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
