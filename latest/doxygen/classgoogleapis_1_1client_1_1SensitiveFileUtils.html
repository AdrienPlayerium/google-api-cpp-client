<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Google APIs Client Library for C++: SensitiveFileUtils Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Google APIs Client Library for C++
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classgoogleapis_1_1client_1_1SensitiveFileUtils.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">SensitiveFileUtils Class Reference<div class="ingroups"><a class="el" href="group__PlatformLayerFiles.html">Platform Layer - File Support</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="googleapis::client::SensitiveFileUtils" -->
<p>Helper functions for managing sensitive files.  
 <a href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="file__utils_8h_source.html">client/util/file_utils.h</a>&quot;</code></p>

<p><a href="classgoogleapis_1_1client_1_1SensitiveFileUtils-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#ae96c0f3eb8c217f1e433093423da8cd6">VerifyIsSecureFile</a> (const string &amp;path, bool writable_allowed)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the provided path is secure file.  <a href="#ae96c0f3eb8c217f1e433093423da8cd6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#aa74f8b0b7794c42474909a61fe429684">VerifyIsSecureDirectory</a> (const string &amp;path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks that the provided path is a secure directory.  <a href="#aa74f8b0b7794c42474909a61fe429684"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#a0c1b2d6fbf6301bf14dcc97d4b5fc932">CreateSecureDirectoryRecursively</a> (const string &amp;path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a secure directory at the specified path if it does not already exist.  <a href="#a0c1b2d6fbf6301bf14dcc97d4b5fc932"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#af0645c8bba72e91d3e284c4c3e560d61">WriteSensitiveStringToFile</a> (const StringPiece &amp;data, const string &amp;path, bool overwrite)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the given data to a secure file at the specified path.  <a href="#af0645c8bba72e91d3e284c4c3e560d61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#abdf9fb33f88cc55088668d4233be8a39">DeleteSensitiveFile</a> (const string &amp;path)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes the file, but does not prevent the data from being unrecoverable.  <a href="#abdf9fb33f88cc55088668d4233be8a39"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Helper functions for managing sensitive files. </p>
<p>WARNING(ewiseblatt): 20130304 These files are not reliably secure. We are managing OS level permissions and relying on the OS to protect the contents. We make some attempt to securely delete the contents of files but not necessarily robust. For truely sensitive data, consider encrypting the files instead. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0c1b2d6fbf6301bf14dcc97d4b5fc932"></a><!-- doxytag: member="googleapis::client::SensitiveFileUtils::CreateSecureDirectoryRecursively" ref="a0c1b2d6fbf6301bf14dcc97d4b5fc932" args="(const string &amp;path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a> <a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#a0c1b2d6fbf6301bf14dcc97d4b5fc932">CreateSecureDirectoryRecursively</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a secure directory at the specified path if it does not already exist. </p>
<p>Any directories that are created will be created wth secure permissions (user rwx only).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The desired directory path. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ok if the path exists as a secure directory when done. Otherwise an error indicating why it could not be created. </dd></dl>

</div>
</div>
<a class="anchor" id="abdf9fb33f88cc55088668d4233be8a39"></a><!-- doxytag: member="googleapis::client::SensitiveFileUtils::DeleteSensitiveFile" ref="abdf9fb33f88cc55088668d4233be8a39" args="(const string &amp;path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a> <a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#abdf9fb33f88cc55088668d4233be8a39">DeleteSensitiveFile</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Deletes the file, but does not prevent the data from being unrecoverable. </p>
<p>This function will make some attempts to prevent the data from being reovered, it is still not secure. There are many ways in which the OS itself may have leaked some data on disk.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The to the file to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ok if the file could be deleted, otherwise an error explaining the failure. </dd></dl>

</div>
</div>
<a class="anchor" id="aa74f8b0b7794c42474909a61fe429684"></a><!-- doxytag: member="googleapis::client::SensitiveFileUtils::VerifyIsSecureDirectory" ref="aa74f8b0b7794c42474909a61fe429684" args="(const string &amp;path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a> <a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#aa74f8b0b7794c42474909a61fe429684">VerifyIsSecureDirectory</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks that the provided path is a secure directory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to check should be an existing directoy. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ok status if it is secure, otherwise an error explaining the concern. </dd></dl>

</div>
</div>
<a class="anchor" id="ae96c0f3eb8c217f1e433093423da8cd6"></a><!-- doxytag: member="googleapis::client::SensitiveFileUtils::VerifyIsSecureFile" ref="ae96c0f3eb8c217f1e433093423da8cd6" args="(const string &amp;path, bool writable_allowed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a> <a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#ae96c0f3eb8c217f1e433093423da8cd6">VerifyIsSecureFile</a> </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>writable_allowed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Checks that the provided path is secure file. </p>
<p>Secure paths can only be user read-writable and not a symbolic link.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to check should be an existing file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">writable_allowed</td><td>true if path may be writable. false if it must be read-only. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ok status if it is secure, otherwise an error explaining the concern. </dd></dl>

</div>
</div>
<a class="anchor" id="af0645c8bba72e91d3e284c4c3e560d61"></a><!-- doxytag: member="googleapis::client::SensitiveFileUtils::WriteSensitiveStringToFile" ref="af0645c8bba72e91d3e284c4c3e560d61" args="(const StringPiece &amp;data, const string &amp;path, bool overwrite)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classgoogleapis_1_1util_1_1Status.html">util::Status</a> <a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html#af0645c8bba72e91d3e284c4c3e560d61">WriteSensitiveStringToFile</a> </td>
          <td>(</td>
          <td class="paramtype">const StringPiece &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>overwrite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Writes the given data to a secure file at the specified path. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>The data to write is considered a binary string so will not be implicitly null terminated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>The path to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">overwrite</td><td>If true then overwrite any existing file at the path. Otherwise fail if a file already exists. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>ok or reason for failure to write the file. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>googleapis/client/util/<a class="el" href="file__utils_8h_source.html">file_utils.h</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacegoogleapis.html">googleapis</a>      </li>
      <li class="navelem"><a class="el" href="namespacegoogleapis_1_1client.html">client</a>      </li>
      <li class="navelem"><a class="el" href="classgoogleapis_1_1client_1_1SensitiveFileUtils.html">SensitiveFileUtils</a>      </li>

    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
